var ImpSearch={_toggleAll:function(a){$("search").getInputs(null,"search_folders[]").each(function(b){b.checked=a})},_dateCheck:function(b){var a=$("search_"+b+"_month"),c=$("search_"+b+"_day"),e=$("search_"+b+"_year");if(a.selectedIndex==0){a.selectedIndex=this.search_date.m}if(c.selectedIndex==0){c.selectedIndex=this.search_date.d}if(e.value==""){e.value=this.search_date.y}},_formCheck:function(){if(this.not_search&&(!$("preselected_folders")||!$F("preselected_folders"))){if(!Form.getInputs("search",null,"search_folders[]").detect(function(a){return a.checked})){alert(IMP.text.search_select);return}}$("actionID").setValue("do_search")},_reset:function(){$("actionID").setValue("reset_search");$("search").submit()},_saveCache:function(){$("edit_query").setValue($F("save_cache"));$("search").submit()},_deleteField:function(a){$("delete_field_id").setValue(a);$("actionID").setValue("delete_field");$("search").submit()},_showSubscribed:function(a){$("show_subscribed_only").setValue(a);$("search").submit()},changeHandler:function(a){var b=a.element().readAttribute("id");switch(b){case"save_cache":this._saveCache();break;default:if(b.startsWith("field_")){$("search").submit()}else{if(b.startsWith("search_date_")){this._dateCheck("on")}}break}},clickHandler:function(b){var a=b.element();if(a.hasClassName("searchSubmit")){this._formCheck()}else{if(a.hasClassName("searchReset")){this._reset()}else{if(a.hasClassName("searchDelete")){this._deleteField(a.readAttribute("fid"))}else{switch(a.readAttribute("id")){case"link_sel_all":this._toggleAll(true);break;case"link_sel_none":this._toggleAll(false);break;case"link_sub":this._showSubscribed(this.inverse_sub);break;case"search_match_and":case"search_match_or":if($("field_1")){$("search").submit()}break}}}}}};document.observe("change",ImpSearch.changeHandler.bind(ImpSearch));document.observe("click",ImpSearch.clickHandler.bind(ImpSearch));